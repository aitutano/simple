// ===== MAIN SCSS - Flow Design System =====
// ID 08 - Implementação completa de Sass com organização modular

// ===== IMPORTS =====
// Import variables first (must be first)
@import "variables";

// Import mixins second
@import "mixins";

// Import base styles
@import "base";

// Import layout
@import "layout";

// Import components
@import "components";

// Import responsive styles
@import "responsive";

// ===== CSS CUSTOM PROPERTIES GENERATION =====
// Generate CSS custom properties from Sass variables map
:root {
  @each $name, $value in $css-variables {
    --#{$name}: #{$value};
  }
}

// ===== DARK MODE VARIABLES =====
@include dark-mode {
  :root {
    --primary-bg: #{$dark-primary-bg};
    --secondary-bg: #{$dark-secondary-bg};
    --accent-bg: #{$dark-accent-bg};
    --text-primary: #{$dark-text-primary};
    --text-secondary: #{$dark-text-secondary};
    --text-tertiary: #{$dark-text-tertiary};
    --border-color: #{$dark-border-color};
  }
}

// ===== PRINT STYLES =====
@media print {
  .no-print {
    @include print-hidden;
  }

  .navbar,
  .modal,
  .btn,
  .task-actions,
  .project-actions {
    @include print-hidden;
  }

  .task-card,
  .project-card {
    break-inside: avoid;
    border: 1px solid #ccc !important;
    box-shadow: none !important;
  }

  body {
    @include font-size($font-size-xs, $line-height-normal);
  }

  h1 {
    @include font-size(18pt);
  }
  h2 {
    @include font-size(16pt);
  }
  h3 {
    @include font-size(14pt);
  }
  h4 {
    @include font-size(13pt);
  }
  h5 {
    @include font-size(12pt);
  }
  h6 {
    @include font-size(11pt);
  }
}

// ===== ACCESSIBILITY ENHANCEMENTS =====
@media (prefers-reduced-motion: no-preference) {
  *:focus {
    @include focus-visible {
      outline: 2px solid $primary-red;
      outline-offset: 2px;
      transition: outline-offset $transition-fast;
    }
  }
}

@include high-contrast {
  .task-card,
  .project-card {
    border: 2px solid $text-primary;
  }

  .btn {
    border: 2px solid currentColor;
  }
}

@include reduced-motion {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

// ===== LANDSCAPE ORIENTATION OPTIMIZATIONS =====
@media screen and (orientation: landscape) and (max-height: 500px) {
  .hero-section {
    @include padding($spacing-xl, 0);
  }

  .modal-dialog {
    max-height: 90vh;
    overflow-y: auto;
  }
}

// ===== TOUCH DEVICE OPTIMIZATIONS =====
@media (hover: none) and (pointer: coarse) {
  .task-actions,
  .project-actions {
    opacity: 1;
  }

  .btn {
    min-height: $button-height;
    min-width: $button-height;
  }

  .form-control {
    min-height: $button-height;
  }

  .nav-link {
    min-height: $button-height;
    @include flex-center;
  }
}
